import{r as d,a as Sr,g as Fr,R as kr}from"./vendor-hNfcizNV.js";import{_ as U,a as Se,b as Fe,c as Ve}from"./transformers-BOsqbiXW.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var sr={exports:{}},ye={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr=d,Ir=Symbol.for("react.element"),Pr=Symbol.for("react.fragment"),Nr=Object.prototype.hasOwnProperty,Rr=Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mr={key:!0,ref:!0,__self:!0,__source:!0};function lr(e,r,t){var n,o={},a=null,l=null;t!==void 0&&(a=""+t),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(l=r.ref);for(n in r)Nr.call(r,n)&&!Mr.hasOwnProperty(n)&&(o[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:Ir,type:e,key:a,ref:l,props:o,_owner:Rr.current}}ye.Fragment=Pr;ye.jsx=lr;ye.jsxs=lr;sr.exports=ye;var i=sr.exports,cr,qe=Sr;cr=qe.createRoot,qe.hydrateRoot;var ur={exports:{}},Lr="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tr=Lr,zr=Tr;function dr(){}function fr(){}fr.resetWarningCache=dr;var Br=function(){function e(n,o,a,l,u,m){if(m!==zr){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:fr,resetWarningCache:dr};return t.PropTypes=t,t};ur.exports=Br();var Ur=ur.exports;const b=Fr(Ur);function te(e,r,t,n){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(g){try{c(n.next(g))}catch(h){l(h)}}function m(g){try{c(n.throw(g))}catch(h){l(h)}}function c(g){g.done?a(g.value):o(g.value).then(u,m)}c((n=n.apply(e,r||[])).next())})}function ne(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(c){return function(g){return m([c,g])}}function m(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(t=0)),t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(g){c=[6,g],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ye(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,a=[],l;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(u){l={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return a}function Qe(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,a;n<o;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}var Wr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ie(e,r){var t=Gr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Gr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Wr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var $r=[".DS_Store","Thumbs.db"];function Hr(e){return te(this,void 0,void 0,function(){return ne(this,function(r){return me(e)&&Kr(e.dataTransfer)?[2,Qr(e.dataTransfer,e.type)]:Vr(e)?[2,qr(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Yr(e)]:[2,[]]})})}function Kr(e){return me(e)}function Vr(e){return me(e)&&me(e.target)}function me(e){return typeof e=="object"&&e!==null}function qr(e){return ke(e.target.files).map(function(r){return ie(r)})}function Yr(e){return te(this,void 0,void 0,function(){var r;return ne(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return ie(n)})]}})})}function Qr(e,r){return te(this,void 0,void 0,function(){var t,n;return ne(this,function(o){switch(o.label){case 0:return e.items?(t=ke(e.items).filter(function(a){return a.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Jr))]):[3,2];case 1:return n=o.sent(),[2,Je(pr(n))];case 2:return[2,Je(ke(e.files).map(function(a){return ie(a)}))]}})})}function Je(e){return e.filter(function(r){return $r.indexOf(r.name)===-1})}function ke(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Jr(e){if(typeof e.webkitGetAsEntry!="function")return Xe(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?mr(r):Xe(e)}function pr(e){return e.reduce(function(r,t){return Qe(Qe([],Ye(r),!1),Ye(Array.isArray(t)?pr(t):[t]),!1)},[])}function Xe(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=ie(r);return Promise.resolve(t)}function Xr(e){return te(this,void 0,void 0,function(){return ne(this,function(r){return[2,e.isDirectory?mr(e):Zr(e)]})})}function mr(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function a(){var l=this;r.readEntries(function(u){return te(l,void 0,void 0,function(){var m,c,g;return ne(this,function(h){switch(h.label){case 0:if(u.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return m=h.sent(),t(m),[3,4];case 3:return c=h.sent(),n(c),[3,4];case 4:return[3,6];case 5:g=Promise.all(u.map(Xr)),o.push(g),a(),h.label=6;case 6:return[2]}})})},function(u){n(u)})}a()})}function Zr(e){return te(this,void 0,void 0,function(){return ne(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var a=ie(o,e.fullPath);t(a)},function(o){n(o)})})]})})}var et=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return t.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):o===u})}return!0};function Ze(e){return nt(e)||tt(e)||hr(e)||rt()}function rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nt(e){if(Array.isArray(e))return Ce(e)}function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function rr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?er(Object(t),!0).forEach(function(n){gr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ae(e,r){return it(e)||at(e,r)||hr(e,r)||ot()}function ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(e,r){if(e){if(typeof e=="string")return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}}function Ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function at(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,u;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,u=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function it(e){if(Array.isArray(e))return e}var st="file-invalid-type",lt="file-too-large",ct="file-too-small",ut="too-many-files",dt=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:st,message:"File type must be ".concat(t)}},tr=function(r){return{code:lt,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},nr=function(r){return{code:ct,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},ft={code:ut,message:"Too many files"};function br(e,r){var t=e.type==="application/x-moz-file"||et(e,r);return[t,t?null:dt(r)]}function yr(e,r,t){if(Y(e.size))if(Y(r)&&Y(t)){if(e.size>t)return[!1,tr(t)];if(e.size<r)return[!1,nr(r)]}else{if(Y(r)&&e.size<r)return[!1,nr(r)];if(Y(t)&&e.size>t)return[!1,tr(t)]}return[!0,null]}function Y(e){return e!=null}function pt(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,a=e.multiple,l=e.maxFiles,u=e.validator;return!a&&r.length>1||a&&l>=1&&r.length>l?!1:r.every(function(m){var c=br(m,t),g=ae(c,1),h=g[0],O=yr(m,n,o),P=ae(O,1),N=P[0],M=u?u(m):null;return h&&N&&!M})}function ge(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function pe(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function or(e){e.preventDefault()}function mt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function gt(e){return e.indexOf("Edge/")!==-1}function ht(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return mt(e)||gt(e)}function z(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r.some(function(u){return!ge(n)&&u&&u.apply(void 0,[n].concat(a)),ge(n)})}}function bt(){return"showOpenFilePicker"in window}function yt(e){if(Y(e)){var r=Object.entries(e).filter(function(t){var n=ae(t,2),o=n[0],a=n[1],l=!0;return vr(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(a)||!a.every(xr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var o=ae(n,2),a=o[0],l=o[1];return rr(rr({},t),{},gr({},a,l))},{});return[{description:"Files",accept:r}]}return e}function vt(e){if(Y(e))return Object.entries(e).reduce(function(r,t){var n=ae(t,2),o=n[0],a=n[1];return[].concat(Ze(r),[o],Ze(a))},[]).filter(function(r){return vr(r)||xr(r)}).join(",")}function xt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function wt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function vr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function xr(e){return/^.*\.[\w]+$/.test(e)}var jt=["children"],Dt=["open"],At=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Et=["refKey","onChange","onClick"];function _t(e){return Ft(e)||St(e)||wr(e)||Ot()}function Ot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ft(e){if(Array.isArray(e))return Ie(e)}function Oe(e,r){return It(e)||Ct(e,r)||wr(e,r)||kt()}function kt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wr(e,r){if(e){if(typeof e=="string")return Ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ie(e,r)}}function Ie(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ct(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,u;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,u=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw u}}return n}}function It(e){if(Array.isArray(e))return e}function ar(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ar(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ar(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Pe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function he(e,r){if(e==null)return{};var t=Pt(e,r),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Pt(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Me=d.forwardRef(function(e,r){var t=e.children,n=he(e,jt),o=Dr(n),a=o.open,l=he(o,Dt);return d.useImperativeHandle(r,function(){return{open:a}},[a]),kr.createElement(d.Fragment,null,t(x(x({},l),{},{open:a})))});Me.displayName="Dropzone";var jr={disabled:!1,getFilesFromEvent:Hr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Me.defaultProps=jr;Me.propTypes={children:b.func,accept:b.objectOf(b.arrayOf(b.string)),multiple:b.bool,preventDropOnDocument:b.bool,noClick:b.bool,noKeyboard:b.bool,noDrag:b.bool,noDragEventsBubbling:b.bool,minSize:b.number,maxSize:b.number,maxFiles:b.number,disabled:b.bool,getFilesFromEvent:b.func,onFileDialogCancel:b.func,onFileDialogOpen:b.func,useFsAccessApi:b.bool,autoFocus:b.bool,onDragEnter:b.func,onDragLeave:b.func,onDragOver:b.func,onDrop:b.func,onDropAccepted:b.func,onDropRejected:b.func,onError:b.func,validator:b.func};var Ne={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Dr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=x(x({},jr),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,a=r.maxSize,l=r.minSize,u=r.multiple,m=r.maxFiles,c=r.onDragEnter,g=r.onDragLeave,h=r.onDragOver,O=r.onDrop,P=r.onDropAccepted,N=r.onDropRejected,M=r.onFileDialogCancel,L=r.onFileDialogOpen,Q=r.useFsAccessApi,$=r.autoFocus,W=r.preventDropOnDocument,H=r.noClick,K=r.noKeyboard,j=r.noDrag,y=r.noDragEventsBubbling,v=r.onError,S=r.validator,B=d.useMemo(function(){return vt(t)},[t]),p=d.useMemo(function(){return yt(t)},[t]),I=d.useMemo(function(){return typeof L=="function"?L:ir},[L]),T=d.useMemo(function(){return typeof M=="function"?M:ir},[M]),F=d.useRef(null),w=d.useRef(null),_=d.useReducer(Nt,Ne),V=Oe(_,2),J=V[0],k=V[1],A=J.isFocused,Le=J.isFileDialogActive,se=d.useRef(typeof window<"u"&&window.isSecureContext&&Q&&bt()),Te=function(){!se.current&&Le&&setTimeout(function(){if(w.current){var f=w.current.files;f.length||(k({type:"closeDialog"}),T())}},300)};d.useEffect(function(){return window.addEventListener("focus",Te,!1),function(){window.removeEventListener("focus",Te,!1)}},[w,Le,T,se]);var X=d.useRef([]),ze=function(f){F.current&&F.current.contains(f.target)||(f.preventDefault(),X.current=[])};d.useEffect(function(){return W&&(document.addEventListener("dragover",or,!1),document.addEventListener("drop",ze,!1)),function(){W&&(document.removeEventListener("dragover",or),document.removeEventListener("drop",ze))}},[F,W]),d.useEffect(function(){return!n&&$&&F.current&&F.current.focus(),function(){}},[F,$,n]);var q=d.useCallback(function(s){v?v(s):console.error(s)},[v]),Be=d.useCallback(function(s){s.preventDefault(),s.persist(),de(s),X.current=[].concat(_t(X.current),[s.target]),pe(s)&&Promise.resolve(o(s)).then(function(f){if(!(ge(s)&&!y)){var D=f.length,C=D>0&&pt({files:f,accept:B,minSize:l,maxSize:a,multiple:u,maxFiles:m,validator:S}),R=D>0&&!C;k({isDragAccept:C,isDragReject:R,isDragActive:!0,type:"setDraggedFiles"}),c&&c(s)}}).catch(function(f){return q(f)})},[o,c,q,y,B,l,a,u,m,S]),Ue=d.useCallback(function(s){s.preventDefault(),s.persist(),de(s);var f=pe(s);if(f&&s.dataTransfer)try{s.dataTransfer.dropEffect="copy"}catch{}return f&&h&&h(s),!1},[h,y]),We=d.useCallback(function(s){s.preventDefault(),s.persist(),de(s);var f=X.current.filter(function(C){return F.current&&F.current.contains(C)}),D=f.indexOf(s.target);D!==-1&&f.splice(D,1),X.current=f,!(f.length>0)&&(k({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),pe(s)&&g&&g(s))},[F,g,y]),le=d.useCallback(function(s,f){var D=[],C=[];s.forEach(function(R){var oe=br(R,B),re=Oe(oe,2),xe=re[0],we=re[1],je=yr(R,l,a),fe=Oe(je,2),De=fe[0],Ae=fe[1],Ee=S?S(R):null;if(xe&&De&&!Ee)D.push(R);else{var _e=[we,Ae];Ee&&(_e=_e.concat(Ee)),C.push({file:R,errors:_e.filter(function(Or){return Or})})}}),(!u&&D.length>1||u&&m>=1&&D.length>m)&&(D.forEach(function(R){C.push({file:R,errors:[ft]})}),D.splice(0)),k({acceptedFiles:D,fileRejections:C,type:"setFiles"}),O&&O(D,C,f),C.length>0&&N&&N(C,f),D.length>0&&P&&P(D,f)},[k,u,B,l,a,m,O,P,N,S]),ce=d.useCallback(function(s){s.preventDefault(),s.persist(),de(s),X.current=[],pe(s)&&Promise.resolve(o(s)).then(function(f){ge(s)&&!y||le(f,s)}).catch(function(f){return q(f)}),k({type:"reset"})},[o,le,q,y]),Z=d.useCallback(function(){if(se.current){k({type:"openDialog"}),I();var s={multiple:u,types:p};window.showOpenFilePicker(s).then(function(f){return o(f)}).then(function(f){le(f,null),k({type:"closeDialog"})}).catch(function(f){xt(f)?(T(f),k({type:"closeDialog"})):wt(f)?(se.current=!1,w.current?(w.current.value=null,w.current.click()):q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):q(f)});return}w.current&&(k({type:"openDialog"}),I(),w.current.value=null,w.current.click())},[k,I,T,Q,le,q,p,u]),Ge=d.useCallback(function(s){!F.current||!F.current.isEqualNode(s.target)||(s.key===" "||s.key==="Enter"||s.keyCode===32||s.keyCode===13)&&(s.preventDefault(),Z())},[F,Z]),$e=d.useCallback(function(){k({type:"focus"})},[]),He=d.useCallback(function(){k({type:"blur"})},[]),Ke=d.useCallback(function(){H||(ht()?setTimeout(Z,0):Z())},[H,Z]),ee=function(f){return n?null:f},ve=function(f){return K?null:ee(f)},ue=function(f){return j?null:ee(f)},de=function(f){y&&f.stopPropagation()},Ar=d.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.refKey,D=f===void 0?"ref":f,C=s.role,R=s.onKeyDown,oe=s.onFocus,re=s.onBlur,xe=s.onClick,we=s.onDragEnter,je=s.onDragOver,fe=s.onDragLeave,De=s.onDrop,Ae=he(s,At);return x(x(Pe({onKeyDown:ve(z(R,Ge)),onFocus:ve(z(oe,$e)),onBlur:ve(z(re,He)),onClick:ee(z(xe,Ke)),onDragEnter:ue(z(we,Be)),onDragOver:ue(z(je,Ue)),onDragLeave:ue(z(fe,We)),onDrop:ue(z(De,ce)),role:typeof C=="string"&&C!==""?C:"presentation"},D,F),!n&&!K?{tabIndex:0}:{}),Ae)}},[F,Ge,$e,He,Ke,Be,Ue,We,ce,K,j,n]),Er=d.useCallback(function(s){s.stopPropagation()},[]),_r=d.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.refKey,D=f===void 0?"ref":f,C=s.onChange,R=s.onClick,oe=he(s,Et),re=Pe({accept:B,multiple:u,type:"file",style:{display:"none"},onChange:ee(z(C,ce)),onClick:ee(z(R,Er)),tabIndex:-1},D,w);return x(x({},re),oe)}},[w,t,u,ce,n]);return x(x({},J),{},{isFocused:A&&!n,getRootProps:Ar,getInputProps:_r,rootRef:F,inputRef:w,open:ee(Z)})}function Nt(e,r){switch(r.type){case"focus":return x(x({},e),{},{isFocused:!0});case"blur":return x(x({},e),{},{isFocused:!1});case"openDialog":return x(x({},Ne),{},{isFileDialogActive:!0});case"closeDialog":return x(x({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return x(x({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return x(x({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return x({},Ne);default:return e}}function ir(){}const Rt=[{id:"color",label:"Solid Color"},{id:"image",label:"Image"}],Mt=[{id:"none",label:"None"},{id:"blur",label:"Blur"},{id:"brightness",label:"Bright"},{id:"contrast",label:"Contrast"}],Lt=["#ffffff","#000000","#ff0000","#00ff00","#0000ff","#ffff00","#00ffff","#ff00ff","#808080","#c0c0c0"];function Tt({image:e,isOpen:r,onClose:t,onSave:n}){const[o,a]=d.useState("color"),[l,u]=d.useState("#ffffff"),[m,c]=d.useState(null),[g,h]=d.useState("none"),[O,P]=d.useState(50),[N,M]=d.useState(50),[L,Q]=d.useState(50),[$,W]=d.useState(""),[H,K]=d.useState(!1),j=e.processedFile?URL.createObjectURL(e.processedFile):"";d.useEffect(()=>{e.processedFile&&S()},[o,l,m,g,O,N,L]);const y=()=>{switch(g){case"blur":return O;case"brightness":return N;case"contrast":return L;default:return 50}},v=p=>{switch(g){case"blur":P(p);break;case"brightness":M(p);break;case"contrast":Q(p);break}},S=async()=>{if(!e.processedFile)return;const p=document.createElement("canvas"),I=p.getContext("2d");if(!I)return;const T=new Image;if(T.src=j,await new Promise(w=>T.onload=w),p.width=T.width,p.height=T.height,o==="color")I.fillStyle=l,I.fillRect(0,0,p.width,p.height);else if(o==="image"&&m){const w=new Image;w.src=URL.createObjectURL(m),await new Promise(_=>w.onload=_),I.drawImage(w,0,0,p.width,p.height)}if(I.drawImage(T,0,0),g!=="none"){const w=I.getImageData(0,0,p.width,p.height),_=w.data;switch(g){case"blur":const V=document.createElement("canvas"),J=V.getContext("2d");if(!J)break;V.width=p.width,V.height=p.height,J.drawImage(p,0,0),I.clearRect(0,0,p.width,p.height),I.filter=`blur(${O/10}px)`,I.drawImage(V,0,0),I.filter="none";break;case"brightness":for(let A=0;A<_.length;A+=4)_[A]=Math.min(255,_[A]*(N/50)),_[A+1]=Math.min(255,_[A+1]*(N/50)),_[A+2]=Math.min(255,_[A+2]*(N/50));I.putImageData(w,0,0);break;case"contrast":const k=259*(L+255)/(255*(259-L));for(let A=0;A<_.length;A+=4)_[A]=k*(_[A]-128)+128,_[A+1]=k*(_[A+1]-128)+128,_[A+2]=k*(_[A+2]-128)+128;I.putImageData(w,0,0);break}}const F=p.toDataURL("image/png");W(F)},B=()=>{n($),t()};return r?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit Image"}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Background"}),i.jsx("div",{className:"flex gap-2 mb-4",children:Rt.map(p=>i.jsx("button",{onClick:()=>a(p.id),className:`px-3 py-1 rounded ${o===p.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.label},p.id))}),o==="color"&&i.jsxs("div",{children:[i.jsx("div",{className:"flex gap-2 mb-2",children:Lt.map(p=>i.jsx("button",{onClick:()=>u(p),className:"w-8 h-8 rounded-full border border-gray-300",style:{backgroundColor:p}},p))}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx("button",{onClick:()=>K(!H),className:"px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors text-sm text-gray-700",children:"Custom Color"}),H&&i.jsx("input",{type:"color",value:l,onChange:p=>u(p.target.value),className:"w-8 h-8 border border-gray-400 rounded-md hover:bg-blue-200"})]})]}),o==="image"&&i.jsx("input",{type:"file",accept:"image/*",onChange:p=>c(p.target.files?.[0]||null),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Effects"}),i.jsx("div",{className:"flex gap-2 mb-4",children:Mt.map(p=>i.jsx("button",{onClick:()=>h(p.id),className:`px-3 py-1 rounded ${g===p.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.label},p.id))}),g!=="none"&&i.jsxs("div",{children:[i.jsx("input",{type:"range",min:"0",max:"100",value:y(),onChange:p=>v(Number(p.target.value)),className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[i.jsx("span",{children:"0"}),i.jsx("span",{children:y()}),i.jsx("span",{children:"100"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Preview"}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("img",{src:$||j,alt:"Preview",className:"w-full object-contain"})})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),i.jsx("button",{onClick:B,className:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600",children:"Save Changes"})]})]})}):null}function zt({images:e,onDelete:r}){return i.jsxs("div",{children:[i.jsxs("h2",{className:"hidden text-gray-800 text-xl font-semibold mb-4",children:["Images: ",e.length]}),i.jsx("div",{className:"gap-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(t=>t.file.type.includes("video")?i.jsx(Bt,{video:t},t.id):i.jsx(Ut,{image:t,onDelete:r},t.id))})]})}function Bt({video:e}){const r=URL.createObjectURL(e.file);return i.jsx("div",{className:"bg-white rounded-lg shadow-md p-3",children:i.jsx("video",{className:"rounded-lg aspect-square object-cover",loop:!0,muted:!0,autoPlay:!0,src:r})})}function Ut({image:e,onDelete:r}){const[t,n]=d.useState(!1),[o,a]=d.useState(""),l=URL.createObjectURL(e.file),u=e.processedFile?URL.createObjectURL(e.processedFile):"",m=!e.processedFile,c=h=>{a(h)};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"relative",children:m?i.jsxs("div",{className:"relative",children:[i.jsx("img",{className:"w-full aspect-square object-cover opacity-50 transition-opacity duration-200",src:l,alt:`Processing image ${e.id}`}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"bg-black bg-opacity-50 px-4 py-2 rounded-lg",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),i.jsx("span",{className:"text-white font-medium",children:"Processing..."})]})})]}):i.jsx("div",{className:"w-full aspect-square",style:{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAGUExURb+/v////5nD/3QAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAUSURBVBjTYwABQSCglEENMxgYGAAynwRB8BEAgQAAAABJRU5ErkJggg==")',backgroundRepeat:"repeat"},children:i.jsx("img",{className:"w-full h-full object-cover transition-opacity duration-200",src:o||u,alt:`Processed image ${e.id}`})})}),!m&&i.jsx("div",{className:"p-3 border-t border-gray-100",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Delete",children:[i.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),i.jsx("span",{className:"text-sm text-gray-700",children:"Delete"})]}),i.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Edit",children:[i.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),i.jsx("span",{className:"text-sm text-gray-700",children:"Edit"})]}),i.jsxs("a",{href:o||u,download:`processed-${e.id}.png`,className:"flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Download",children:[i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),i.jsx("span",{className:"text-sm text-gray-700",children:"Download"})]})]})}),i.jsx(Tt,{image:e,isOpen:t,onClose:()=>n(!1),onSave:c})]})}const be="Xenova/modnet",G="briaai/RMBG-1.4",Wt=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,E={model:null,processor:null,isWebGPUSupported:!1,currentModelId:G,isIOS:Wt()};async function Gt(){if(!navigator.gpu)throw new Error("WebGPU is not supported in this browser");try{return U.allowLocalModels=!1,U.backends?.onnx?.wasm&&(U.backends.onnx.wasm.proxy=!1),await new Promise(r=>setTimeout(r,100)),E.model=await Se.from_pretrained(be,{device:"webgpu",config:{model_type:"modnet",architectures:["MODNet"]}}),E.processor=await Fe.from_pretrained(be),!0}catch(r){throw console.error("WebGPU initialization failed:",r),new Error("Failed to initialize WebGPU model. Falling back to cross-browser version.")}}async function Re(e){try{if(E.isIOS)return console.log("iOS detected, using RMBG-1.4 model"),U.allowLocalModels=!1,U.backends?.onnx?.wasm&&(U.backends.onnx.wasm.proxy=!0),E.model=await Se.from_pretrained(G,{config:{model_type:"custom"}}),E.processor=await Fe.from_pretrained(G,{config:{do_normalize:!0,do_pad:!1,do_rescale:!0,do_resize:!0,image_mean:[.5,.5,.5],feature_extractor_type:"ImageFeatureExtractor",image_std:[1,1,1],resample:2,rescale_factor:.00392156862745098,size:{width:1024,height:1024}}}),E.currentModelId=G,!0;const r=navigator.gpu;E.isWebGPUSupported=!!r;const t=e||G,n=t===be&&r;if(console.log(`Initializing model: ${t} ${n?"(WebGPU)":"(Cross-browser)"}`),n?await Gt():(U.allowLocalModels=!1,U.backends?.onnx?.wasm&&(U.backends.onnx.wasm.proxy=!0),E.model=await Se.from_pretrained(G,{progress_callback:o=>{console.log(`Loading model: ${Math.round(o*100)}%`)}}),E.processor=await Fe.from_pretrained(G,{revision:"main",config:{do_normalize:!0,do_pad:!0,do_rescale:!0,do_resize:!0,image_mean:[.5,.5,.5],feature_extractor_type:"ImageFeatureExtractor",image_std:[.5,.5,.5],resample:2,rescale_factor:.00392156862745098,size:{width:1024,height:1024}}})),!E.model||!E.processor)throw new Error("Failed to initialize model or processor");return E.currentModelId=t,!0}catch(r){if(console.error("Error initializing model:",r),e===be)return console.log("Falling back to cross-browser model..."),Re(G);throw new Error(r instanceof Error?r.message:"Failed to initialize background removal model")}}function $t(){return{currentModelId:E.currentModelId,isWebGPUSupported:E.isWebGPUSupported,isIOS:E.isIOS}}async function Ht(e){if(!E.model||!E.processor)throw new Error("Model not initialized. Call initializeModel() first.");const r=await Ve.fromURL(URL.createObjectURL(e));try{const{pixel_values:t}=await E.processor(r),{output:n}=await E.model({input:t}),o=(await Ve.fromTensor(n[0].mul(255).to("uint8")).resize(r.width,r.height)).data,a=document.createElement("canvas");a.width=r.width,a.height=r.height;const l=a.getContext("2d");if(!l)throw new Error("Could not get 2d context");l.drawImage(r.toCanvas(),0,0);const u=l.getImageData(0,0,r.width,r.height);for(let h=0;h<o.length;++h)u.data[4*h+3]=o[h];l.putImageData(u,0,0);const m=await new Promise((h,O)=>a.toBlob(P=>P?h(P):O(new Error("Failed to create blob")),"image/png")),[c]=e.name.split(".");return new File([m],`${c}-bg-blasted.png`,{type:"image/png"})}catch(t){throw console.error("Error processing image:",t),new Error("Failed to process image")}}async function Kt(e){console.log("Processing images...");const r=[];for(const t of e)try{const n=await Ht(t);r.push(n),console.log("Successfully processed image",t.name)}catch(n){console.error("Error processing image",t.name,n)}return console.log("Processing images done"),r}const Vt=["https://plus.unsplash.com/premium_photo-1725198933305-8ad7fb751056?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://plus.unsplash.com/premium_vector-1721162193452-cfa457d4f1e2?q=80&w=1800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1486326658981-ed68abe5868e?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1474112704314-8162b7749a90?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"];function qt(){const[e,r]=d.useState(!0),[t,n]=d.useState(null),[o,a]=d.useState(!1),[l,u]=d.useState(!1),[m,c]=d.useState("briaai/RMBG-1.4"),[g,h]=d.useState(!1),[O,P]=d.useState([]);d.useEffect(()=>{(async()=>{try{if(!await Re())throw new Error("Failed to initialize background removal model");const{isWebGPUSupported:y,isIOS:v}=$t();a(y),u(v)}catch(j){n({message:j instanceof Error?j.message:"An unknown error occurred"})}r(!1)})()},[]);const N=async j=>{const y=j.target.value;h(!0),n(null);try{if(!await Re(y))throw new Error("Failed to initialize new model");c(y)}catch(v){v instanceof Error&&v.message.includes("Falling back")?c("briaai/RMBG-1.4"):n({message:v instanceof Error?v.message:"Failed to switch models"})}finally{h(!1)}},M=d.useCallback(async j=>{const y=j.map((v,S)=>({id:Date.now()+S,file:v,processedFile:void 0}));P(v=>[...v,...y]);for(const v of y)try{const S=await Kt([v.file]);S&&S.length>0&&P(B=>B.map(p=>p.id===v.id?{...p,processedFile:S[0]}:p))}catch(S){console.error("Error processing image:",S)}},[]),L=async j=>{try{const v=await(await fetch(j)).blob(),S=new File([v],"sample-image.jpg",{type:"image/jpeg"});M([S])}catch(y){console.error("Error loading sample image:",y)}},{getRootProps:Q,getInputProps:$,isDragActive:W,isDragAccept:H,isDragReject:K}=Dr({onDrop:M,accept:{"image/*":[".jpeg",".jpg",".png",".mp4"]}});return t?i.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-4xl mb-2 font-bold text-red-600",children:"Error"}),i.jsx("p",{className:"text-xl max-w-[500px] mb-4",children:t.message}),m==="Xenova/modnet"&&i.jsx("button",{onClick:()=>N({target:{value:"briaai/RMBG-1.4"}}),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Switch to Cross-browser Version"})]})}):e||g?i.jsx("div",{className:"min-h-screen bg-white text-gray-800 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-600 mb-4"}),i.jsx("p",{className:"text-lg",children:g?"Switching models...":"Loading background removal model..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50 bg-white",children:[i.jsx("nav",{className:"bg-white shadow-sm m-2 mr-5",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 cursor-pointer hover:shadow-none",onClick:()=>{window.location.href="/"},children:"CLEARU"}),!l&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-gray-600",children:"Model:"}),i.jsxs("select",{value:m,onChange:N,className:"bg-white border border-gray-300 rounded-md px-3 py-1 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!o,children:[i.jsx("option",{value:"briaai/RMBG-1.4",children:"RMBG-1.4 (Cross-browser)"}),o&&i.jsx("option",{value:"Xenova/modnet",children:"MODNet (WebGPU)"})]})]})]}),l?i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Using optimized iOS background removal"}):!o&&i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"WebGPU is not supported in your browser. Using cross-browser compatible model."})]})}),i.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:`grid ${O.length===0?"grid-cols-1 gap-8":"grid-cols-1"}`,children:[O.length===0&&i.jsxs("div",{className:"flex flex-col justify-center items-start",children:[i.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-4",children:"Remove Image Background"}),i.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"100% Automatically, Locally and Free"}),i.jsx("p",{className:"text-gray-500",children:"Upload your image and let our AI remove the background instantly."})]}),i.jsxs("div",{className:O.length===0?"":"w-full",children:[i.jsxs("div",{...Q(),className:`p-8 mb-8 border-2 border-dashed rounded-lg text-center cursor-pointer transition-colors duration-300 ease-in-out bg-white
                ${H?"border-green-500 bg-green-50":""}
                ${K?"border-red-500 bg-red-50":""}
                ${W?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-500 hover:bg-blue-50"}
              `,children:[i.jsx("input",{...$(),className:"hidden"}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("p",{className:"text-lg text-gray-600",children:W?"Drop the images here...":"Drag and drop images here"}),i.jsx("p",{className:"text-sm text-gray-500",children:"or click to select files"})]})]}),O.length===0&&i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"text-xl text-gray-700 font-semibold mb-4",children:"No image? Try one of these:"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Vt.map((j,y)=>i.jsx("button",{onClick:()=>L(j),className:"relative aspect-square overflow-hidden rounded-lg hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.jsx("img",{src:j,alt:`Sample ${y+1}`,className:"w-full h-full object-cover"})},y))}),i.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"All images are processed locally on your device and are not uploaded to any server."})]}),i.jsx(zt,{images:O,onDelete:j=>P(y=>y.filter(v=>v.id!==j))})]})]})})]})}console.log("main.jsx");cr(document.getElementById("root")).render(i.jsx(d.StrictMode,{children:i.jsx(qt,{})}));
//# sourceMappingURL=index-Dn8focsn.js.map
